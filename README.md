# 个人数字工作台 (私人助理)

**【项目背景与技术栈】**
这是一个纯前端的“个人数字工作台（私人助理）”单页应用（SPA）。
- **技术栈**：Vue 3 (Composition API `<script setup>`) + TypeScript + Vite + Pinia + Vue Router。
- **数据存储**：目前全量使用浏览器 `LocalStorage` 进行本地持久化存储。
- **部署状态**：已配置 `vercel.json`（解决 SPA 路由 404 问题），成功部署在 Vercel 上，并已绑定通过 Porkbun 购买的自定义海外域名，国内可直连。

**【系统目录与核心模块现状】**
系统目前包含侧边栏导航，已打通以下核心模块与组件：

1. **数据仓库 (Stores - Pinia)**
   - `journalStore.ts`：管理月历与每日日志。包含富文本内容、待办事项（支持勾选完成、重命名、删除）。
   - `projectStore.ts`：管理项目看板。包含项目增删改、计时器增删改名、状态变更等完整逻辑。
   - `blogStore.ts`：管理博客文章库（包含标题、日期、摘要、富文本正文、置顶状态）。
   - `whiteboardStore.ts`：管理灵感白板（包含坐标位置、文本内容、编辑状态）。
2. **核心视图页面 (Views)**
   - `CalendarView.vue` (月历总览)：基于真实日历算法的网格视图，并新增了聚合全部日期的全局待办列表视图。
   - `ProjectView.vue` (项目总览)：顶部包含“新建项目”按钮和基于 Checkbox 的状态筛选器。卡片展示项目信息与带下拉选择的快捷计时器。
   - `ProjectDetailView.vue` (项目详情)：包含极简返回键、状态切换按钮组、富文本编辑器（项目概览），以及侧边栏的计时器列表。
   - `DayDetailView.vue` (单日详情)：包含富文本编辑器（日志）和带删除/重命名功能的 To-Do List。
   - `BlogView.vue` & `BlogDetailView.vue` (博客版面)：提供纯粹的写作环境与摘要搜索，支持置顶功能。
   - `WhiteboardView.vue` (灵感白板)：无边界的点阵图墙，支持双击编辑与自由拖拽文本。
   - `SettingsView.vue` (设置页)：实现了双重数据导出系统（Markdown 文本阅读版 + JSON 全量系统级备份与覆盖恢复）。
3. **独立组件 (Components)**
   - `IntroScreen.vue`：一个科技机能风纯代码开场进场动效。
   - `icons/` 目录：包含大量封装好的极简 SVG 矢量图标（如 IconEdit, IconDelete, IconPin 等），实现高复用。

**【视觉与交互风格规范】**
- **极简图例**：全面采用悬浮显现、高亮变色的无边框 SVG 矢量图标，摒弃冗余的文字按钮。
- **色彩体系**：主色调为 `#3b82f6` (科技蓝)，状态标签包含 `#f3f4f6` (未开始/灰)、`#dbeafe` (进行中/蓝)、`#d1fae5` (已完成/绿)。危险操作为 `#ef4444` (红)。
- **富文本排版**：全面抹除默认黑框，工具栏融入浅灰背景与圆角，文本字号、行高与视窗滚动体验深度优化。

---

## 开发日志 (Changelog)

### 版本：v1.2.0 "Spark" (灵感与极简重构)
**发布日期：** 2026-03-01

**✨ 新增功能 (New Features)**
- **💡 全新模块：灵感白板 (Whiteboard)**
  - 引入了打破线性束缚的“点阵涂鸦墙”。
  - 支持随处点击生成文本、自由拖拽定位、双击无缝编辑。
  - 数据变动实时保存至本地，彻底解决碎片化灵感记录的需求。
- **📅 月历增强：全局待办视图**
  - 在月历右上角新增“网格 / 列表”视图切换开关。
  - 支持在一个页面内聚合查看所有日期的待办事项，并支持行内重命名、打勾与删除。
  - 支持快捷输入跨日期的全新待办。
- **📝 博客增强：文章置顶功能**
  - 为博客版面新增“置顶”逻辑，置顶卡片拥有专属高亮 UI 与图钉徽章，重要文章不再沉底。

**🎨 UI & UX 视觉升级 (Design & Experience)**
- **全局“以图代文”与无边框风格：**
  - 摒弃了大部分生硬的文本按钮，全面替换为极简悬浮式 SVG 矢量图标。
  - 项目看板引入点击弹窗下拉列表，去除原生的 `<select>` 框，交互更加原生自然。
- **富文本编辑器 (Quill) 深度整合：**
  - 彻底抹除了编辑器默认的黑框。
  - 工具栏融入浅灰背景与圆角，图标悬浮态统一为主题“科技蓝（#3b82f6）”。
  - 修复了编辑器内容过长导致溢出背景，以及出现双滚动条的问题。

**🛠️ 架构与工程化重构 (Under the Hood)**
- **CSS 极限瘦身：** 提取基础样式到全局 `common.css`，各 `.vue` 视图文件的样式代码量平均减少了 50%。
- **组件化图标库：** 将长串的 SVG 代码抽离至 `src/components/icons/` 目录下，实现 100% 的图标复用。
- **函数提取：** 将计时器的复杂格式化逻辑抽离为 `src/utils/timeFormat.ts`。
- **事件冲突修复：** 重构了待办事项的 DOM 结构，彻底解决了编辑态重命名时失去焦点、原生 `<label>` 事件冲突等底层 Bug。
- **系统级备份同步更新：** JSON 全量导入/导出功能现已覆盖全新的 `whiteboardItems` 字段。

---

### 版本：v1.1.0 "Modules" (核心业务模块落地)
**发布日期：** 2026-02-28

**✨ 核心模块 (Core Features)**
- **📅 月历与日志模块 (Journal)**
  - 实现了基于真实日历算法的网格视图，精准高亮“今天”。
  - 集成 Quill 富文本编辑器，支持按天撰写带图文排版的深度日志。
  - 实现了按天隔离的 To-Do List 功能，待办状态可直接在日历网格中透出预览。
- **📁 项目看板模块 (Projects)**
  - 构建了项目总览页，支持多状态交叉筛选。
  - 开发了**全局持久化计时器系统**。每个项目可绑定多个独立计时器，切换页面不中断，时间计算精确到毫秒级。
- **📝 博客版面 (Blog)**
  - 搭建了纯净的写作环境，支持文章标题与正文的实时自动保存。
  - 编写了摘要提取算法，自动剥离 HTML 标签，为博客列表生成纯文本前言。
  - 实现了基于标题关键字的实时搜索过滤功能。

**🔒 数据安全与设置 (Settings)**
- **双轨备份系统：**
  - **阅读版导出**：支持将全站核心数据自动排版并导出为单文件 `.md` 格式，方便脱机阅读与分享。
  - **系统级备份**：支持将 Pinia 中的状态全量导出为 `.json` 文件，并实现了带风险提示的安全覆盖导入机制，实现数据的 100% 本地迁移。

---

### 版本：v1.0.0 "Genesis" (底层架构与视觉定调)
**发布日期：** 2026-02

**🚀 基础设施 (Infrastructure)**
- **技术栈确立：** 基于 `Vue 3 (Composition API)` + `TypeScript` + `Vite` 构建单页应用底座。
- **状态与路由：** 引入 `Pinia` 进行全局状态管理，使用 `Vue Router` 实现客户端无刷新路由。
- **纯本地化存储：** 确立了“Data-Privacy First”原则，全量数据通过 `watch` 深度监听并实时写入浏览器 `LocalStorage`。
- **全网部署：** 配置 `vercel.json` 解决 SPA 历史路由 404 问题，成功上线 Vercel 并绑定自定义独立域名 `www.schlorine.me`。

**🎨 UI 框架与动效 (UI & Animation)**
- **全局布局：** 实现了带折叠动画的左侧全局导航栏与右侧主内容区的响应式框架。
- **开场动效 (IntroScreen)：** 纯手工编写了极具极客风格的打字机终端开场动画，包含光标闪烁与进度条装载效果。
- **新手引导：** 加入了基于 `hasVisited` 标识的新用户欢迎弹窗，首次访问时优雅地介绍系统功能。
- **视觉规范定调：** 确立了以科技蓝为主色调，配合卡片式悬浮阴影、大面积留白的极简数字空间视觉语言。